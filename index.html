<!DOCTYPE html>
<html lang="sr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Block ‚Ä¢ 8√ó8 ‚Äî Glass Edition</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Start screen -->
  <div id="startScreen" class="start">
    <canvas id="bg"></canvas>
    <button id="settingsBtn" class="icon-btn" title="Pode≈°avanja">‚öôÔ∏è</button>
    <div class="ss-inner">
      <h1>BLOCK ‚Ä¢ 8√ó8</h1>
      <div class="sub">Drag-n-drop ‚Ä¢ ƒåisti redove/kolone ‚Ä¢ Luks minimal</div>
      <div class="ghost-board" id="ghost"></div>
      <div class="cta">
        <button id="startClassic" class="cta-main">‚ñ∂ Igraj</button>
      </div>
      <div class="quick">
        <button id="achBtn" class="icon-btn" title="Dostignuƒáa">üèÜ</button>
      </div>
    </div>
  </div>

  <!-- App -->
  <div class="wrap" id="app" style="display:none">
    <header>
      <div class="brand">BLOCK ‚Ä¢ 8√ó8</div>
      <div class="hud">
        <div class="pill">Score: <span id="score">0</span></div>
        <div class="pill">Best: <span id="best">0</span></div>
      </div>
      <div class="toolbar">
        <button id="backBtn" class="icon-btn" title="Nazad na meni">üè†</button>
        <button id="reset" class="btn" title="Nova igra">Reset</button>
      </div>
    </header>

    <div class="board-area">
      <canvas id="game" width="360" height="360" aria-label="8√ó8 tabla"></canvas>
      <canvas id="fx" width="360" height="360" style="position:absolute; inset:0; pointer-events:none"></canvas>
    </div>

    <div class="tray" id="tray"></div>
    <div class="footer">Glass blokovi ‚Ä¢ Grid u aurori ‚Ä¢ 8√ó8</div>
  </div>

  <!-- Settings Modal -->
  <div id="settingsModal" class="overlay" style="display:none">
    <div class="backdrop"></div>
    <div class="panel">
      <h3>Pode≈°avanja</h3>
      <div class="row"><span>Tema</span><button id="setTheme" class="btn">Prebaci temu</button></div>
      <div class="row"><span>Zvuk</span><button id="setSound" class="btn">üîà On</button></div>
      <div class="row"><span>Mod</span><button id="setMode" class="btn">Classic</button></div>
      <div class="row"><span>Resetuj Best</span><button id="resetBest" class="btn">Obri≈°i</button></div>
      <div class="row"><span>Testovi</span><button id="runTests" class="btn">Pokreni testove</button></div>
      <div style="text-align:right; margin-top:8px"><button id="closeSettings" class="btn">Zatvori</button></div>
    </div>
  </div>

  <!-- Onboarding -->
  <div id="onboarding" class="overlay" style="display:none">
    <div class="backdrop"></div>
    <div class="panel">
      <h2>Kako se igra</h2>
      <ol style="text-align:left; line-height:1.5; padding-left:18px">
        <li>Prevuci blok iz donje trake na tablu.</li>
        <li>Popuni ceo red ili kolonu da ih oƒçisti≈°.</li>
        <li>Kad potro≈°i≈° 3 bloka, dobija≈° nova 3.</li>
      </ol>
      <div style="margin-top:10px; display:flex; gap:8px; justify-content:center">
        <button id="skipOnb" class="btn">Preskoƒçi</button>
        <button id="startOnb" class="btn">Kreni!</button>
      </div>
    </div>
  </div>

  <!-- Game Over -->
  <div id="gameOver" class="overlay" style="display:none">
    <div class="backdrop"></div>
    <div class="panel">
      <h2>Kraj igre</h2>
      <div id="goStats" style="margin:6px 0 12px 0">Score: 0 ‚Ä¢ Best: 0</div>
      <div style="display:flex; gap:8px; justify-content:center">
        <button id="playAgain" class="btn">Igraj ponovo</button>
        <button id="goMenu" class="btn">Meni</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
