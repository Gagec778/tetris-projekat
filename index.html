<!DOCTYPE html>
<html lang="sr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>Puzzle Universe ‚Äì Final Test</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body class="dark-theme block-style-default">

  <!-- Aurora bg -->
  <div class="aurora-background">
    <div class="aurora-dot"></div><div class="aurora-dot"></div><div class="aurora-dot"></div>
  </div>

  <!-- MAIN MENU -->
  <div id="main-menu-screen" class="screen active">
    <header class="main-menu-header">
      <div id="gem-balance-display" class="gem-balance">
        <span id="gem-balance">0</span>
        <!-- custom diamond svg icon -->
        <svg id="diamond-icon" class="gem-icon" viewBox="0 0 24 24" width="28" height="28" aria-hidden="true">
          <path d="M3 7l3-4h12l3 4-9 13L3 7zM8 3l4 4 4-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
        </svg>
      </div>
      <div class="header-buttons">
        <button id="shop-btn" class="icon-btn large header-icon" aria-label="Prodavnica" title="Prodavnica">
          <svg class="feather" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="gold" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
          </svg>
        </button>
        <button id="achievements-btn" class="icon-btn large header-icon" aria-label="Dostignuƒáa" title="Dostignuƒáa">
          <svg class="feather" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="gold" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M8 21h8"></path><path d="M12 17v4"></path><path d="M7 4h10l1 5-6 2-6-2 1-5z"></path>
          </svg>
        </button>
        <button id="daily-reward-btn" class="icon-btn large header-icon" aria-label="Dnevne Nagrade" title="Dnevne nagrade">
          <svg class="feather" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="gold" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="8" width="18" height="12" rx="2"></rect><path d="M7 8V5a2 2 0 1 1 4 0v3M13 8V5a2 2 0 1 1 4 0v3"></path>
          </svg>
        </button>
        <button id="settings-btn" class="icon-btn large header-icon" aria-label="Pode≈°avanja" title="Pode≈°avanja">
          <svg class="feather" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="gold" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 .6 1.65 1.65 0 0 0-.33 1.82V22a2 2 0 1 1-4 0v-.09A1.65 1.65 0 0 0 8 20.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 3.4 15a1.65 1.65 0 0 0-.6-1 1.65 1.65 0 0 0-1.82-.33H1a2 2 0 1 1 0-4h.09A1.65 1.65 0 0 0 3.6 8a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 8 3.6a1.65 1.65 0 0 0 1-.6 1.65 1.65 0 0 0 .33-1.82V1a2 2 0 1 1 4 0v.09A1.65 1.65 0 0 0 16 3.6a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 20.4 8c.14.31.22.65.22 1s-.08.69-.22 1a1.65 1.65 0 0 0 .6 1z"></path>
          </svg>
        </button>
      </div>
    </header>

    <main class="menu-container">
      <h1>Puzzle<br>Universe</h1>
      <div class="menu-item" data-game="tetris"><div class="menu-item-content"><h2>Block Cascade</h2></div></div>
      <div class="menu-item" data-game="block-puzzle"><div class="menu-item-content"><h2>Block Puzzle</h2></div></div>
    </main>
  </div>

  <!-- MODE SELECT (placeholder for future modes) -->
  <div id="game-mode-screen" class="screen">
    <button class="icon-btn small back-to-main-menu" aria-label="Nazad na glavni meni" title="Nazad"><span>&larr;</span></button>
    <div class="difficulty-selector">
      <button class="difficulty-btn active" data-difficulty="normal">Normalno</button>
    </div>
  </div>

  <!-- SHOP -->
  <div id="shop-screen" class="screen">
    <button class="icon-btn small back-to-main-menu" aria-label="Nazad na glavni meni" title="Nazad"><span>&larr;</span></button>
    <h2>Prodavnica</h2>
    <div class="shop-tabs">
      <button class="shop-tab active" data-tab="themes">Teme</button>
      <button class="shop-tab" data-tab="blocks">Stilovi Blokova</button>
    </div>
    <div class="shop-container">
      <div id="shop-themes-container" class="shop-grid active"></div>
      <div id="shop-blocks-container" class="shop-grid"></div>
    </div>
  </div>

  <!-- ACHIEVEMENTS -->
  <div id="achievements-screen" class="screen">
    <button class="icon-btn small back-to-main-menu" aria-label="Nazad na glavni meni" title="Nazad"><span>&larr;</span></button>
    <h2>Dostignuƒáa</h2>
    <div id="achievements-container" class="achievements-container"></div>
  </div>

  <!-- GAME SCREEN -->
  <div id="game-screen" class="screen">
    <!-- TETRIS -->
    <div id="tetris-game-area" class="game-area">
      <div class="tetris-ui-left-sidebar"></div>
      <div class="tetris-ui-main">
        <div class="tetris-main-header">
          <div class="ui-frame"><div class="frame-title">Level</div><div id="tetris-level" class="level-display">1</div></div>
          <div class="ui-frame score-frame"><div id="tetris-score" class="score-display">0</div><div class="best-score-container"><div class="gold-line"></div><span>üëë <span id="tetris-best-score">0</span></span></div></div>
          <div class="ui-frame"><div class="frame-title">Lines</div><div id="tetris-lines" class="level-display">0</div></div>
        </div>
        <div class="game-board-frame">
          <div id="tetris-board"></div>
        </div>
        <div class="tetris-controls-hint">Dodir: povuci levo/desno, tap rotacija, flick dole hard drop.</div>
        <div class="game-controls">
          <button id="back-btn-tetris" class="icon-btn large" title="Meni">üè†</button>
          <button id="pause-btn-tetris" class="icon-btn large" aria-label="Pause" title="Pauza">‚è∏</button>
        </div>
      </div>
      <div class="tetris-ui-right-sidebar">
        <div class="ui-frame"><div class="frame-title">Next</div><div id="tetris-next-piece" class="piece-preview"></div></div>
      </div>
    </div>

    <!-- BLOCK PUZZLE -->
    <div id="puzzle-game-area" class="game-area">
      <div class="game-content-wrapper">
        <div class="puzzle-only game-header-bar">
          <div class="ui-frame score-frame">
            <div class="frame-title">Score</div>
            <div id="puzzle-score" class="score-display game-score">0</div>
          </div>
          <div class="ui-frame"><div id="game-timer" class="game-timer"></div></div>
          <div class="game-controls"><button id="pause-btn-puzzle" class="icon-btn small" aria-label="Pause" title="Pauza">‚è∏</button></div>
        </div>
        <div class="game-board-frame"><div id="puzzle-board"></div></div>
        <div id="puzzle-pieces-container-wrapper"><div id="puzzle-pieces-container"></div></div>
      </div>
    </div>
  </div>

  <!-- POST GAME -->
  <div id="post-game-screen" class="screen">
    <h2 id="post-game-title">Game Over</h2>
    <div class="post-game-summary">
      <div class="final-score-title">Final Score</div>
      <div id="post-game-score" class="final-score-value">0</div>
      <div id="post-game-new-best" class="new-best-banner">NEW BEST!</div>
    </div>
    <div id="post-game-stats" class="post-game-stats"></div>
    <div class="post-game-actions">
      <button id="restart-btn-pogs" class="primary-btn secondary">Play Again</button>
      <button id="back-to-menu-btn-pogs" class="primary-btn">Main Menu</button>
    </div>
  </div>

  <!-- MODALS -->
  <div id="daily-reward-center-modal" class="modal-overlay">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2>Reward Center</h2>
      <div id="daily-reward-streak-container" class="reward-streak-container"></div>
      <div class="todays-reward-section">
        <h3>Today's Challenge:</h3>
        <p id="daily-challenge-text">Gledaj 5 reklama danas za +350 üíé</p>
        <div class="todays-reward-actions">
          <button id="claim-challenge-reward-btn" class="primary-btn" disabled>Claim Reward</button>
          <button id="claim-ad-reward-btn" class="primary-btn secondary">Watch Ad</button>
        </div>
      </div>
    </div>
  </div>

  <div id="settings-modal" class="modal-overlay">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2>Settings</h2>
      <div class="settings-option"><label>Theme</label><div id="theme-select-container"></div></div>
      <div class="settings-option"><label for="music-volume">Music</label><input type="range" id="music-volume" min="0" max="1" step="0.05"></div>
      <div class="settings-option"><label for="sfx-volume">Sound Effects</label><input type="range" id="sfx-volume" min="0" max="1" step="0.05"></div>
      <div class="settings-option"><label>Vibration</label><button id="haptics-toggle-btn" class="toggle-btn">ON</button></div>
    </div>
  </div>

  <div id="confirm-modal" class="modal-overlay">
    <div class="modal-content">
      <h2 id="confirm-title">Are you sure?</h2>
      <p id="confirm-text">Your progress will be lost.</p>
      <div class="confirm-actions">
        <button id="confirm-btn-no" class="primary-btn secondary">No</button>
        <button id="confirm-btn-yes" class="primary-btn">Yes</button>
      </div>
    </div>
  </div>

  <!-- NOTIFICATIONS -->
  <div id="notification-area"></div>
  <div id="game-feedback-area"></div>

  <script src="script.js"></script>
</body>
</html>
