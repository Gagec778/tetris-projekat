<!DOCTYPE html>
<html lang="sr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Block Puzzle 10×10 — LUX</title>
  <link rel="stylesheet" href="style.css" />
  <script src="script.js" defer></script>
</head>
<body>
  <!-- START SCREEN -->
  <div id="startScreen">
    <!-- SAMO IKONE (bez teksta/okvira), fiksno gore desno -->
    <button id="settingsBtn" title="Podešavanja">⚙️</button>
    <button id="achBtn" title="Dostignuća">🏆</button>

    <div class="ss-inner">
      <h1>BLOCK • 10×10</h1>
      <div class="ghost-board" id="ghost"></div>
      <div class="cta">
        <button id="startClassic">▶ Classic Mode</button>
      </div>
    </div>
  </div>

  <!-- APP -->
  <div class="wrap" id="app" style="display:none">
    <header>
      <div class="brand">BLOCK • 10×10</div>
      <div class="hud">
        <div class="pill">Score: <span id="score">0</span></div>
        <div class="pill">Best: <span id="best">0</span></div>
      </div>
      <div class="toolbar">
        <button id="backBtn" class="btn" title="Nazad na meni">🏠</button>
        <button id="reset" class="btn" title="Nova igra">Reset</button>
      </div>
    </header>

    <div class="board-area">
      <canvas id="game" width="360" height="360" aria-label="10x10 tabla"></canvas>
      <canvas id="fx" width="360" height="360"></canvas>
    </div>

    <div class="tray" id="tray"></div>
    <div class="footer">Classic mod • Podešavanja • Dostignuća</div>
  </div>

  <!-- Settings Modal -->
  <div id="settingsModal">
    <div class="backdrop"></div>
    <div class="panel">
      <h3>Podešavanja</h3>
      <div class="row"><span>Tema</span><button id="setTheme" class="btn">Prebaci temu</button></div>
      <div class="row"><span>Zvuk</span><button id="setSound" class="btn">🔈 On</button></div>
      <div class="row"><span>Mod</span><button id="setMode" class="btn">Classic</button></div>
      <div class="row"><span>Resetuj Best</span><button id="resetBest" class="btn">Obriši</button></div>
      <div class="row"><span>Testovi</span><button id="runTests" class="btn">Pokreni testove</button></div>
      <div style="text-align:right; margin-top:8px">
        <button id="closeSettings" class="btn">Zatvori</button>
      </div>
    </div>
  </div>

  <!-- Onboarding -->
  <div id="onboarding" class="overlay">
    <div class="backdrop"></div>
    <div class="panel">
      <h2>Kako se igra</h2>
      <ol style="text-align:left; line-height:1.5; padding-left:18px">
        <li>Prevuci blok iz donje trake na tablu.</li>
        <li>Popuni ceo red ili kolonu da ih očistiš.</li>
        <li>Kad potrošiš 3 bloka, dobijaš nova 3 (refill).</li>
      </ol>
      <div style="margin-top:10px; display:flex; gap:8px; justify-content:center">
        <button id="skipOnb" class="btn">Preskoči</button>
        <button id="startOnb" class="btn">Kreni!</button>
      </div>
    </div>
  </div>

  <!-- Game Over -->
  <div id="gameOver" class="overlay">
    <div class="backdrop"></div>
    <div class="panel">
      <h2>Kraj igre</h2>
      <div id="goStats" style="margin:6px 0 12px 0">Score: 0 • Best: 0</div>
      <div style="display:flex; gap:8px; justify-content:center">
        <button id="playAgain" class="btn">Igraj ponovo</button>
        <button id="goMenu" class="btn">Meni</button>
      </div>
    </div>
  </div>
</body>
</html>
